<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>OWNER-EX PRO | Professional Trading Platform</title>
    <script src="https://unpkg.com/lightweight-charts@3.8.0/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        :root { 
            --bg: #0b0e11; --panel: #161a1e; --accent: #00ffad; 
            --red: #f6465d; --green: #0ecb81; --border: #2b2f36;
        }
        body, html { margin: 0; padding: 0; height: 100%; background: var(--bg); color: #eaecef; font-family: 'Segoe UI', sans-serif; overflow: hidden; }

        /* HEADER */
        header { 
            height: 50px; background: var(--panel); display: flex; align-items: center; 
            justify-content: space-between; padding: 0 20px; border-bottom: 1px solid var(--border);
        }
        .logo { font-weight: 900; color: var(--accent); letter-spacing: 1px; font-size: 18px; }

        /* GRID LAYOUT */
        .terminal-grid { 
            display: grid; 
            grid-template-columns: 50px 1fr 280px 280px; 
            height: calc(100vh - 50px); 
        }

        /* SIDEBAR */
        .sidebar { border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; padding-top: 15px; gap: 20px; }
        .side-btn { cursor: pointer; opacity: 0.5; transition: 0.3s; font-size: 20px; }
        .side-btn:hover { opacity: 1; color: var(--accent); }

        /* ORDER BOOK (–°–¢–ê–ö–ê–ù) */
        .order-book { background: var(--panel); border-right: 1px solid var(--border); display: flex; flex-direction: column; overflow: hidden; }
        .ob-row { display: grid; grid-template-columns: 1fr 1fr; padding: 2px 10px; font-size: 12px; position: relative; height: 20px; align-items: center; }
        .ob-bg { position: absolute; right: 0; top: 0; height: 100%; opacity: 0.2; transition: width 0.4s ease-out; }
        .red { color: var(--red); } .green { color: var(--green); }

        /* CHART & BOTTOM PANEL */
        .center-column { display: flex; flex-direction: column; }
        #chartCanvas { flex: 1; }
        .bottom-info { height: 180px; background: var(--panel); border-top: 1px solid var(--border); padding: 10px; }

        /* TRADE PANEL */
        .trade-panel { padding: 20px; display: flex; flex-direction: column; gap: 15px; background: var(--panel); }
        .input-card { background: var(--bg); border: 1px solid var(--border); border-radius: 8px; padding: 10px; }
        .input-card label { display: block; font-size: 11px; color: #848e9c; margin-bottom: 5px; }
        .input-card input { background: transparent; border: none; color: white; width: 100%; outline: none; font-size: 18px; font-weight: bold; }

        .btn-action { height: 55px; border: none; border-radius: 8px; font-weight: bold; font-size: 16px; cursor: pointer; transition: 0.2s; }
        .btn-up { background: var(--green); color: #000; }
        .btn-down { background: var(--red); color: #fff; }
        .btn-action:active { transform: scale(0.97); }

        /* ANIMATIONS */
        .new-row-flash { animation: flash 0.5s ease-out; }
        @keyframes flash { from { background: rgba(255,255,255,0.1); } to { background: transparent; } }
    </style>
</head>
<body>

<header>
    <div class="logo">OWNER-EX PRO</div>
    <div id="stats" style="display:flex; gap:20px; font-size:13px;">
        <span>BTC/USDT: <b id="mainPrice" style="color:var(--green)">0.00</b></span>
        <span style="color:var(--green)">+2.45% ‚Üë</span>
    </div>
    <div style="font-weight:bold; color:var(--accent)">$10,000.00</div>
</header>

<div class="terminal-grid">
    <div class="sidebar">
        <div class="side-btn">üè†</div>
        <div class="side-btn">üìä</div>
        <div class="side-btn">‚öôÔ∏è</div>
    </div>

    <div class="center-column">
        <div id="chartCanvas"></div>
        <div class="bottom-info">
            <div style="font-size:12px; border-bottom:1px solid var(--border); padding-bottom:5px;">–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ (0)</div>
            <div style="display:flex; justify-content:center; align-items:center; height:100%; color:#444;">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</div>
        </div>
    </div>

    <div class="order-book">
        <div style="padding:10px; font-size:12px; border-bottom:1px solid var(--border);">–°—Ç–∞–∫–∞–Ω –∑–∞—è–≤–æ–∫</div>
        <div id="asks" style="display:flex; flex-direction:column-reverse; flex:1;"></div>
        <div id="midPrice" style="padding:10px; text-align:center; font-size:18px; font-weight:bold; border:1px solid var(--border);">0.00</div>
        <div id="bids" style="flex:1;"></div>
    </div>

    <div class="trade-panel">
        <div class="input-card">
            <label>–°–£–ú–ú–ê (USDT)</label>
            <input type="number" value="100">
        </div>
        <div class="input-card">
            <label>–í–†–ï–ú–Ø (–°–ï–ö)</label>
            <input type="number" value="30">
        </div>
        <div style="text-align:center; color:var(--accent); font-size:32px; font-weight:900; margin:10px 0;">+82%</div>
        <button class="btn-action btn-up" onclick="alert('–°–¥–µ–ª–∫–∞ –í—ã—à–µ')">–ö–£–ü–ò–¢–¨ (CALL)</button>
        <button class="btn-action btn-down" onclick="alert('–°–¥–µ–ª–∫–∞ –ù–∏–∂–µ')">–ü–†–û–î–ê–¢–¨ (PUT)</button>
    </div>
</div>

<script>
    let chart, candleSeries, lastPrice = 0;

    function initChart() {
        chart = LightweightCharts.createChart(document.getElementById('chartCanvas'), {
            layout: { background: { color: '#0b0e11' }, textColor: '#848e9c' },
            grid: { vertLines: { color: '#1f2226' }, horzLines: { color: '#1f2226' } },
            timeScale: { borderColor: '#2b2f36', timeVisible: true, secondsVisible: true }
        });
        candleSeries = chart.addCandlestickSeries({ upColor: '#0ecb81', downColor: '#f6465d' });

        // –ü–æ–¥–∫–ª—é—á–∞–µ–º WebSocket Binance
        const ws = new WebSocket('wss://stream.binance.com:9443/ws/btcusdt@kline_1s');
        ws.onmessage = (e) => {
            const k = JSON.parse(e.data).k;
            const price = parseFloat(k.c);
            lastPrice = price;
            candleSeries.update({
                time: k.t / 1000, open: parseFloat(k.o), high: parseFloat(k.h), low: parseFloat(k.l), close: price
            });
            document.getElementById('mainPrice').innerText = price.toFixed(2);
            document.getElementById('midPrice').innerText = price.toFixed(2);
            updateOrderBook(price);
        };
    }

    function updateOrderBook(price) {
        const asks = document.getElementById('asks');
        const bids = document.getElementById('bids');
        asks.innerHTML = ''; bids.innerHTML = '';

        for(let i=0; i<15; i++) {
            const vol = (Math.random() * 2).toFixed(3);
            const width = Math.min(vol * 50, 100);
            
            // –ê—Å–∫–∏ (–ü—Ä–æ–¥–∞–∂–∞ - –ö—Ä–∞—Å–Ω—ã–µ)
            asks.innerHTML += `
                <div class="ob-row red new-row-flash">
                    <div class="ob-bg" style="width:${width}%; background:var(--red)"></div>
                    <span>${(price + i*0.5).toFixed(1)}</span><span>${vol}</span>
                </div>`;
            
            // –ë–∏–¥—ã (–ü–æ–∫—É–ø–∫–∞ - –ó–µ–ª–µ–Ω—ã–µ)
            bids.innerHTML += `
                <div class="ob-row green new-row-flash">
                    <div class="ob-bg" style="width:${width}%; background:var(--green)"></div>
                    <span>${(price - i*0.5).toFixed(1)}</span><span>${vol}</span>
                </div>`;
        }
    }

    initChart();
</script>
</body>
</html>

