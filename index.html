
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>OWNER-EX ELITE TERMINAL</title>
    <script src="https://unpkg.com/lightweight-charts@3.8.0/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        :root { --bg: #0b0e11; --panel: #161a1e; --accent: #00ffad; --red: #f6465d; --green: #0ecb81; --border: #2b2f36; }
        body, html { margin: 0; padding: 0; height: 100%; background: var(--bg); color: #eaecef; font-family: 'Segoe UI', sans-serif; overflow: hidden; }

        /* –í–ï–†–•–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ */
        header { height: 60px; background: var(--panel); display: flex; align-items: center; justify-content: space-between; padding: 0 15px; border-bottom: 1px solid var(--border); gap: 10px; }
        .controls-group { display: flex; align-items: center; gap: 10px; }
        select, .btn-tool { background: #1e2329; color: white; border: 1px solid var(--border); padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 13px; }
        .btn-tool:hover { border-color: var(--accent); }
        
        .balance-toggle { display: flex; background: #000; border-radius: 6px; padding: 3px; border: 1px solid var(--border); }
        .bal-btn { padding: 4px 12px; border-radius: 4px; font-size: 12px; cursor: pointer; border: none; color: gray; background: none; }
        .bal-btn.active { background: var(--accent); color: black; font-weight: bold; }

        /* –°–ï–¢–ö–ê –¢–ï–†–ú–ò–ù–ê–õ–ê */
        .terminal { display: grid; grid-template-columns: 60px 1fr 240px; height: calc(100vh - 60px); }
        .sidebar { background: var(--panel); border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; padding-top: 20px; gap: 25px; }
        
        /* –¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ß–ê–°–¢–¨ */
        .main-view { display: flex; flex-direction: column; position: relative; border-right: 1px solid var(--border); }
        #chart { flex: 1; }
        .history-panel { height: 150px; background: var(--panel); border-top: 1px solid var(--border); overflow-y: auto; padding: 10px; font-size: 12px; }
        table { width: 100%; border-collapse: collapse; text-align: left; }
        th { color: #848e9c; padding-bottom: 8px; }
        td { padding: 5px 0; border-bottom: 1px solid #222; }

        /* –ü–ê–ù–ï–õ–¨ –¢–û–†–ì–û–í–õ–ò */
        .trade-panel { padding: 20px; display: flex; flex-direction: column; gap: 15px; background: var(--panel); width: 240px; }
        .input-box { background: var(--bg); border: 1px solid var(--border); border-radius: 6px; padding: 10px; }
        .input-box label { display: block; font-size: 10px; color: #848e9c; margin-bottom: 5px; }
        .input-box input { background: transparent; border: none; color: white; width: 100%; outline: none; font-size: 18px; font-weight: bold; }

        .btn-trade { height: 60px; border: none; border-radius: 8px; font-weight: bold; font-size: 18px; cursor: pointer; transition: 0.2s; }
        .btn-up { background: var(--green); color: #000; }
        .btn-down { background: var(--red); color: #fff; }
        .btn-trade:disabled { opacity: 0.4; filter: grayscale(1); }

        #progress-bar { height: 4px; background: var(--accent); width: 0%; transition: linear; position: absolute; bottom: 150px; left: 0; z-index: 10; }
    </style>
</head>
<body>

<header>
    <div class="controls-group">
        <div style="font-weight: 900; color: var(--accent); margin-right: 15px;">OWNER-EX</div>
        <select id="assetSelect" onchange="changeSymbol(this.value)">
            <option value="BTCUSDT">BTC / USDT</option>
            <option value="ETHUSDT">ETH / USDT</option>
            <option value="SOLUSDT">SOL / USDT</option>
        </select>
        <select id="tfSelect" onchange="changeTF(this.value)">
            <option value="1m">1 MIN</option>
            <option value="5m">5 MIN</option>
            <option value="15m">15 MIN</option>
            <option value="1h">1 HOUR</option>
        </select>
        <button class="btn-tool" onclick="setChartType('candles')">üïØÔ∏è –°–≤–µ—á–∏</button>
        <button class="btn-tool" onclick="setChartType('area')">üìà –õ–∏–Ω–∏—è</button>
    </div>

    <div class="controls-group">
        <div class="balance-toggle">
            <button class="bal-btn active" id="demoBtn" onclick="switchAccount('demo')">DEMO</button>
            <button class="bal-btn" id="realBtn" onclick="switchAccount('real')">REAL</button>
        </div>
        <div id="balanceDisplay" style="font-weight: bold; color: var(--green); min-width: 100px;">$10,000.00</div>
    </div>
</header>

<div class="terminal">
    <div class="sidebar">
        <div style="cursor:pointer">üë§</div>
        <div style="cursor:pointer">üí≥</div>
        <div style="cursor:pointer">‚öôÔ∏è</div>
    </div>

    <div class="main-view">
        <div id="chart"></div>
        <div id="progress-bar"></div>
        <div class="history-panel">
            <table>
                <thead><tr><th>–ê–∫—Ç–∏–≤</th><th>–¢–∏–ø</th><th>–°—É–º–º–∞</th><th>–í—Ö–æ–¥</th><th>–í—ã—Ö–æ–¥</th><th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th></tr></thead>
                <tbody id="historyList"></tbody>
            </table>
        </div>
    </div>

    <div class="trade-panel">
        <div class="input-box">
            <label>–°–£–ú–ú–ê –°–î–ï–õ–ö–ò (USDT)</label>
            <input type="number" id="tradeAmt" value="100">
        </div>
        <div class="input-box">
            <label>–í–†–ï–ú–Ø –≠–ö–°–ü–ò–†–ê–¶–ò–ò (–°–ï–ö)</label>
            <input type="number" id="tradeTime" value="15">
        </div>
        <div style="text-align:center; color:var(--accent); font-size:26px; font-weight:900;">+85%</div>
        <button class="btn-trade btn-up" id="upBtn" onclick="execTrade('CALL')">–í–´–®–ï ‚Üë</button>
        <button class="btn-trade btn-down" id="downBtn" onclick="execTrade('PUT')">–ù–ò–ñ–ï ‚Üì</button>
    </div>
</div>

<script>
    let chart, series, currentSymbol = 'BTCUSDT', currentTF = '1m', chartType = 'candles';
    let balances = { demo: 10000, real: 0 };
    let activeAcc = 'demo';
    let lastPrice = 0;

    function initChart() {
        if (chart) { document.getElementById('chart').innerHTML = ''; }
        chart = LightweightCharts.createChart(document.getElementById('chart'), {
            layout: { background: { color: '#0b0e11' }, textColor: '#848e9c' },
            grid: { vertLines: { color: '#111' }, horzLines: { color: '#111' } },
            timeScale: { borderColor: '#2b2f36', timeVisible: true, secondsVisible: true }
        });

        if (chartType === 'candles') {
            series = chart.addCandlestickSeries({ upColor: '#0ecb81', downColor: '#f6465d' });
        } else {
            series = chart.addAreaSeries({ lineColor: '#00ffad', topColor: 'rgba(0, 255, 173, 0.3)', bottomColor:
